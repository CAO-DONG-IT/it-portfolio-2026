# Linux学習ノート｜IPアドレスとホスト名（JST）

## 1. IPアドレスとは
IPアドレスとは、ネットワークに接続された機器を一意に識別するためのアドレスである。  
Linux では主に IPv4 が利用され、形式は以下の通り。
```
- IPv4形式：A.B.C.D（各オクテットは 0〜255）
- 例：192.168.1.10
```
IPアドレスは、ネットワーク通信における「宛先指定」に使用される。

---

## 2. 特殊なIPアドレス
### 127.0.0.1（ループバックアドレス）
- 自分自身（ローカルホスト）を指す
- ネットワークに出ず、OS内部で通信が完結する
- 主に動作確認やテスト用途で使用される

### 0.0.0.0
- 文脈によって意味が異なる
- サーバ設定では「すべてのIPアドレスで待ち受け」を意味することが多い
- アクセス制御では「任意のIP」を表す場合がある

---

## 3. ネットワークインターフェースの確認
近年の Linux では `ifconfig` は非推奨であり、以下を使用する。

```bash
ip addr
```
**出力例（抜粋）**
```
1: lo:
  inet 127.0.0.1/8 scope host lo

2: eth0:
  inet 172.26.81.146/20 brd 172.26.95.255 scope global eth0
```

**各項目の意味**
 
- `lo`

   ループバックインターフェース

   自分自身との通信専用

- `eth0`

   Ethernet（有線）ネットワークインターフェース

   実際にネットワークと接続される主インターフェース

- `inet`

   割り当てられている IPv4 アドレス

- `/20`

   プレフィックス長（サブネットマスク）

   この例では /20 = 255.255.240.0

  ---

## 4. eth0 と ens33 の違い

ネットワークインターフェース名は、環境によって異なる。

- `eth0`

従来型の命名方式

WSL、クラウド環境、簡易VMで多く見られる

- `ens33` など

Predictable Network Interface Names（予測可能な命名規則）

systemd 採用環境（CentOS / RHEL / Ubuntu）で一般的

PCIバス番号などに基づいて命名される

→ どちらが正しいというわけではなく、環境依存

---

## 5. ホスト名（hostname）

ホスト名とは、コンピュータに付けられた名前である。
IPアドレスとは別に、人が識別しやすくするために使用される。

**確認**
```
hostname
```

**変更**
```
sudo hostnamectl set-hostname new-hostname
```
変更後は、新しいシェルを開くことで反映される。

---

## 6. ホスト名とIPの名前解決（名前解決）

人は IP アドレスより名前（ホスト名・ドメイン名）を覚えやすい。
そのため、名前から IP を引く仕組みが必要になる。

**名前解決の順序（Linux）**

/etc/hosts（ローカル定義）

DNSサーバ（外部）

/etc/hosts の例
```
192.168.1.10   myserver
```
この設定により、`myserver` という名前で対象ホストに接続できる。

---

## 7. 重要ポイントまとめ

- IPアドレス：通信上の実体的な住所

- ホスト名：人間向けの識別名

- 通信の最終単位は必ず IP アドレス

- 名前解決は「hosts → DNS」の順で行われる

- `ip addr` は必須コマンドとして即答できるようにする
