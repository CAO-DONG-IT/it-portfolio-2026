# CCNA Day8｜IPv4 Addressing Part 1 / Part 2 学習ノート

## 学習目的
- IPv4アドレッシングの基本（ネットワーク部・ホスト部）を理解する
- プレフィックス長から利用可能ホスト数を計算できるようにする
- ルータIFのIP設定、状態確認、保存までのCLI手順を再現できるようにする

---

## 1. IPv4アドレスの基本
- IPv4アドレスは32bitで構成される（8bit × 4オクテット）。
- プレフィックス長（例：`/8`、`/16`、`/24`）により、ネットワーク部とホスト部の境界が決まる。
- 同一ネットワーク内通信では、宛先判定にネットワーク部が使われる。

---

## 2. ホスト数の計算
- 利用可能ホスト数の式：`2^N - 2`
  - `N`：ホスト部のビット数
  - `-2` の理由：
    - ホスト部が全0のアドレス（ネットワークアドレス）
    - ホスト部が全1のアドレス（ブロードキャストアドレス）

### 例
- `/24` → ホスト部8bit → `2^8 - 2 = 254`
- `/16` → ホスト部16bit → `2^16 - 2 = 65534`
- `/8`  → ホスト部24bit → `2^24 - 2 = 16777214`

---

## 3. ネットワークアドレス / ブロードキャストアドレス
- ネットワークアドレス：ホスト部がすべて0
- ブロードキャストアドレス：ホスト部がすべて1
- どちらも通常はホストに割り当てない

---

## 4. Day8 Labトポロジ（要点）
- 15.0.0.0/8 側：R1 G0/0 = `15.255.255.254`
- 182.98.0.0/16 側：R1 G0/1 = `182.98.255.254`
- 201.191.20.0/24 側：R1 G0/2 = `201.191.20.254`

PC側は各セグメントで同一ネットワーク内のIPを設定し、デフォルトゲートウェイをR1各IFに合わせる。

---

## 5. ルータ初期設定と確認の実務手順
1. 特権モードへ移行
2. `show ip interface brief` でIF状態を確認
3. 各IFへIPアドレス設定 + `no shutdown`
4. `show ip interface brief` で再確認
5. `show running-config` で設定確認
6. `copy running-config startup-config` または `write memory` で保存

---

## 6. CLI運用の注意点（今回の実ログから）
- `R1>`（ユーザEXEC）では `conf t` は実行できない  
  → `enable` 後に `R1#` で実行する。
- `copy running-config` だけでは不完全（保存先が必要）  
  → `copy running-config startup-config` を使う。
- 設定モード（`R1(config)#`）での `copy` は不可  
  → 特権モード（`R1#`）で実行する。
- `show ip interface brief` はIFのIP・Status・Protocol確認に最も有効。

---

## 7. 面接説明用（1〜3文）
- IPv4 Addressingでは、プレフィックス長からネットワーク部/ホスト部を切り分け、`2^N-2` で利用可能ホスト数を算出できるようにした。  
- LabではR1の3インターフェースにIPを設定し、`show ip interface brief` と `show running-config` で状態と設定を検証した。  
- 最後に `copy running-config startup-config` / `write memory` で永続化まで実施した。
