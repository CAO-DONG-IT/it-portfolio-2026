# Network Basics Notes（Day3）

## 1. 用語の整理（混同しやすい）
- `IPアドレス`：端末/IFの論理アドレス
- `サブネットマスク（/n）`：ネットワーク部とホスト部を分けるルール（mask=隠す）
- `デフォルトゲートウェイ`：同一サブネット内のルータIFのIP（マスクではない）
- `host`：IPで通信に参加する機器（端末/サーバ/ルータ等）
- `endpoint`：通信の終端（PC/サーバ等。hostの一部）
- `terminal`：操作の入口（CLI画面/SSHセッション）

## 2. 127.0.0.1（ループバック）
- `127.0.0.1` は自分自身を指す
- `ping 127.0.0.1` はローカルTCP/IPスタックの確認
- NIC/外部疎通は `ping <GW>` や`ping 1.1.1.1` を使う

## 3. Class（A～E）とCIDR
- `Class`はクラスフルの分類（既定：A=/8、B=/16、C=/24）
- 実運用はCIDR（/n）で設計する
- `VLSM`は同一アドレス空間で複数の/長さを混在させる設計

## 4. /8 /16 /24（既定マスク）
- `/8  ：255.0.0.0`
- `/16：255.255.0.0`
- `/24：255.255.255.0`
- 共通：NW=ホスト部全0、BC=ホスト部全1

## 5. ブロックサイズ（Block size）と範囲算出
- `ブロックサイズ`：サブネット開始アドレスの刻み
- 255.255.255.X の場合：`ブロックサイズ=256-X`
- `NW`は「ブロックサイズの倍数の開始位置」
- `BC = NW + ブロックサイズ - 1`
- `usable = NW+1 ～ BC-1`
- `hosts = 2^(ホスト部ビット数) - 2`

### 例：192.168.10.66/28（255.255.255.240）
- ブロックサイズ：16（256-240）
- NW：192.168.10.64（66は64～79に入る）
- BC：192.168.10.79
- usable：192.168.10.65～192.168.10.78
- hosts：14（2^4-2）
- 注意：NWが65ではない（NWはホスト部が全0）

### /26 の等長分割（/24 → 4分割）
- ブロックサイズ：64
- 範囲：0～63 / 64～127 / 128～191 / 192～255
- 等長分割はVLSMではない（同じ/nで揃える）

## 6. Network Troubleshooting（即断フロー）
- 現象整理（いつ/どこで/何が）
- 名前解決（DNS）
- 到達性（ICMP/経路）
- ポート（TCP/UDP）
- アプリ層（HTTP/HTTPS）
- 影響範囲（自分だけ？全員？特定ネットワークだけ？）

### よく使うコマンド
- DNS：nslookup example.com
- 到達性：ping 1.1.1.1
- 経路：tracert 1.1.1.1（Windows）/ traceroute 1.1.1.1（Linux）
- HTTP：curl -I https://example.com（PowerShellは curl.exe を使う）
